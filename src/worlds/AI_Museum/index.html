<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title id="title">Neural Ninjas - AI Imagen Museum</title>

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!--AI Image Generator script-->
    <script src="/src/worlds/AI_Museum/scripts/open-ai-image-generator.js"></script>

    <!--Environment script-->
	<script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>

    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- ASSETS -->
        <img
			id="image"
			src="https://www.shutterstock.com/shutterstock/photos/2065712915/display_1500/stock-vector-vector-illustration-of-sample-red-grunge-stamp-isolated-in-transparent-background-png-2065712915.jpg" 
			crossorigin="anonymous"
		/> <!--sample image to be replace with AI image-->

		<a-asset-item id="museum-model" src="assets/models/museum_old_v1.gltf" crossorigin="anonymous"></a-asset-item>
        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      		<!--Environment-->
			<a-entity id="env" environment="preset: default"></a-entity>

			<!--Museum Model-->
			<a-entity
				id="old_museum"
				gltf-model="#museum-model"
				position="0 0 0"
				rotation="0 0 0"
				scale="0.1 0.1 0.1"
			></a-entity>

			<!--Camera-->
			<a-entity
				id="camera"
				camera
				wasd-controls
				look-controls
				position="0 1.6 0"
			>
				<a-entity
					cursor="rayOrigin:mouse;"
					raycaster="far:20; interval:200; objects: .interactive"
				>
					<!--only cast 20m, every 200ms, only look for objects with class 'interactive'-->
				</a-entity>
				<a-entity 
					id="alert-text",
					text="value: ;
					  align: center;
					  width: 1.2;
					  wrapCount: 25;
					  font: https://cdn.aframe.io/fonts/Exo2Bold.fnt;
					  verticalAlign: center;"
					position=" 0 0.7 -1" 
				></a-entity>
			</a-entity>

			<!--Primitives for AI testing-->
			<a-entity
				id="image-frame"
				geometry="primitive: box; width: 1.1; height: 1.1; depth: 0.1"
				material="color: #999999"
				position="0 2 -2"
				rotation="0 0 0"
				scale="2 2 2"
			>
				<a-entity
					id="image-display"
					geometry="primitive: plane; width: 1; height: 1"
					material="src: #image"
					position="0 0 0.08"
					rotation="0 0 0"
					scale="1 1 1"
				></a-entity>
			</a-entity>

			<!--button & button box-->
			<a-entity
				id="button-box"
				geometry="primitive: box; width: 1; height: 1; depth: 1"
				material="color: #999999"
				position="0 0.3 -1"
				rotation="0 0 0"
				scale="1 1 1"
			>
				<a-entity
					id="button"
					open-ai-image-gen
					class="interactive"
					geometry="primitive: cylinder; radius: 0.2; height: 0.5;"
					material="color: rgb(255,100,100)"
					position="0 0.3 0"
					rotation="0 0 0"
					animation__enter="property:material.color; 
                                      type:color; 
                                      to:rgb(255,0,0); 
                                      startEvents:mouseenter; 
                                      dur:200;"
					animation__leave="property:material.color; 
                                      type:color; 
                                      to:rgb(255,100,100); 
                                      startEvents:mouseleave; 
                                      dur:200;"
					animation__click="property:position.y; 
                                      from:0.25;
                                      to:0.3; 
                                      startEvents:click; 
                                      dur:300;"
				>
				</a-entity>

				<!--text floating above button-->
				<a-entity
					id="button-text"
					text="value: Push to Generate AI image\nPrompt: Neural Ninja\nv;
                      align: center;
                      width: 1.2;
                      wrapCount: 25;
					  font: https://cdn.aframe.io/fonts/Exo2Bold.fnt;
					  verticalAlign: center;"
					position=" 0 0.7 0"
				></a-entity>
			</a-entity>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
